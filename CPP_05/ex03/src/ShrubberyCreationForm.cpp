/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   ShrubberyCreationForm.cpp                          :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: emlicame <emlicame@student.42.fr>          +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2023/07/24 14:13:00 by emlicame          #+#    #+#             */
/*   Updated: 2023/07/24 19:03:17 by emlicame         ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "ShrubberyCreationForm.hpp"
#include <fstream>

ShrubberyCreationForm::ShrubberyCreationForm( void ) : AForm("ShrubberyCreationForm", \
														_signGrade, _executeGrade),
														_target (" "){
	
}

ShrubberyCreationForm::ShrubberyCreationForm( std::string target ) : AForm("ShrubberyCreationForm", \
																_signGrade, _executeGrade),
																_target (target){
	
}

ShrubberyCreationForm::~ShrubberyCreationForm( void ){
	
}

ShrubberyCreationForm::ShrubberyCreationForm( const ShrubberyCreationForm &src) : 
											AForm("ShrubberyCreationForm", _signGrade, _executeGrade),
											_target (src._target){
	*this = src;
}

ShrubberyCreationForm& ShrubberyCreationForm::operator=(const ShrubberyCreationForm& src){
	if (this == &src)
		return (*this);
	this->_target = src._target;
	return (*this);
}

static char tree[] = {
"                                 .:..:::::.::::  \n"                                          
"                              :: =++++++=++++=++==-=.  \n"                                     
"                           .--=+=:+***=+=****++****+=:  .  .    \n"                            
"                          :=+++*+-:=**==++++*++***##==-=====-:    \n"                          
"                         -+**+=++=.:+*********###+++===**+==++==:.   \n"                       
"                         :+*=========++**#####*+====***+*#***+=====:  \n"                      
"                          =+==+=+++++++**####*++=++*#*#**#*+=======     \n"                    
"                     ... +**+*#*###**##***====+*+**+*###*##**+=****+:   \n"                    
"                   -======+**#########******+#*++++++++*####**#*.. =.   \n"                    
"                .:===++++==+**######*+==++++##+*****######*:   +-    \n"                       
"              .===+++*##+===+**####*=+++***++**##*#%#*###***=--.:=-:    \n"                    
"             .===+**+*##*+==++*###*+*****#########%%#%%%#*****######*-.::    \n"               
"             :==+**###*##+=++**###+**########%%%%%%%%%%%%#####*###+++**++..  \n"               
"            .==+*#######+=+**###*+*#####%%%%%##%%%###%%%%%####*##*+***##*==.  \n"              
"             -=+*######*#*+++***++#%%%%%%%%%#*##*#*+########++**+*#####*+====:   \n"           
"              .-+*###*++*#++++++*##*+#**%%%%#*###*.  .:**++**##*+++++++++==++=-  \n"           
"               -**+=**%%%%%%%####+++**+**+*##**#*+.-**#**##*##%%%####%*##*+++++    \n"         
"            .--=**##%%###########+*##*####*+*+++*++*****-#=.#=*#%#%%%%%%###**+=-:.  \n"        
"          .=*%%%%%%%#######*####*##+  =: =#*#****###=.:+ --#*- .:--=%%%%##%+#***++:    \n"     
"        :=+*+#%##%%%#####****+=+-==*=:-*.==+#######-  =*=***+---:   .+#=     :.*##*+.   \n"    
"        .. ..++. +=#**=+==:..::+=-==--=*=.  ##*+**+  -#*-             -            :   \n"     
"                                        -*+-##*++*#=*#=   \n"                                  
"                                          =**##*+***+:    \n"                                  
"                                           :***+++**    \n"                                    
"                                            +**++++*    \n"                                    
"                                            =**+++**     \n"                                  
"                                         .  +*+++++**-...   \n"                                
"                                   ...:-===++===+=======----==-:.\n"
};

void ShrubberyCreationForm::execute(Bureaucrat const & executor) const{

	checkExecution(executor);
	std::ofstream	outFile(this->_target + "_shrubbery");
	
	if (!outFile.is_open())
	{
		std::cout << "Error. Failed to open the output file" <<std::endl;
		return ;
	}
	outFile << tree << std::endl;
	outFile.close();
}


/*
static char tree_two[] = {                                                                                                                                                                       
"                             -=+..==*:-  .-.\n"                                              
"                       --++*+*+**+**###*###*:. \n"                                           
"                      .*+++++=+++++*****####*#:   .+-=--*=.:=+*==   \n"                      
"                  .---++=========++****#######=.=*=*+++++=+*+=++**=+-- \n"                   
"                  :=*++========++*****########**+++++===========++++*=.\n"                   
"               .-+*+===========+***###########*++======+==========++**##=:\n"                
"               .=*++===++==++******####**+********++****+=+====+==++**###+.\n"               
"               +*++====+*+*+***#####**+++=+=+++**************++*********##*=:\n"             
"            .==*+=====+*******####***+==========++=+****#*####**###*#########\n"             
"           .-+***+++*+**+************++=============++**####################+.\n"            
"           =***********++++++++*###*+*+++*+++++*++=====+#*######*##########*=\n"             
"         -=+*****++++=+=======+**#####************++++********++*+++++**+##- \n"             
"        .-***++++=========+=+++***##########**####****#**+++++==========+*##= \n"            
"        :*****+=========+*******###***##################*+=====++=======+*##- \n"            
"         .-**++======+++*****##*#+=*  -+#######*: ==++*#***++****+*+++=+++*##: \n"           
"          :+**++===++******#*=- +  =: :+ :-=+:*=  =. :=:*##***************##+ \n"            
"           .*+*+=++*****#####*  .*  =- +.   * #   -==- .*#######**#*#######*+ \n"            
"             =*+******#*####**   +=  :+=#.  +*+   .#.   =#################+ \n"              
"             =#*#*####+.-#--.-#- .#    -#*  -%:   *.   :+*+########*##+-=-.\n"               
"             : . :=.=.   -     +*.==     #- :#   =*----.   :+:.-+:**.:  \n"                  
"                                .+=+-    ** -%  -#: \n"                                      
"                                  .=#=   %* *# +* \n"                                        
"                                    .=+. %#=#*#= \n"                                         
"                                      :#-###%%-\n"                                           
"                                       -####%%  \n"                                          
"                                        =####%- \n"                                          
"                                         *#*#%+  \n"                                         
"                                         =*###*  \n"                                         
"                                         =*###+ \n"                                          
"                                         =###%= \n"                                          
"                                         =**#%=  \n"                                         
"                                         +*##%= \n"                                          
"                                        .**##%= \n"                                          
"                                     .:-=*###%+:. \n"                                        
"                                    =*+**####%#*==.  \n"                                     
"                                   -==+##%%#####*++.    \n"                                  
"                                     ...:..   \n"
};
*/